<script>
    function Person(name, age) {
        this.name = name
        this.age = age
    }

    function print(head) {
        let cursor = head
        while (cursor) {
            console.log(cursor)
            cursor = cursor.__proto__
        }
    }

    function run() {
        const p = new Person('leo', 18)
        print(p)
        // 原型链：由 __proto__ 路径构成的链
        // person instance -> Person.prototype -> Object.prototype -> null
        console.log(Person.prototype.constructor === Person) // true
        console.log(Object.prototype.constructor === Object) // true
        console.log('===================================================')

        print(Person)
        // Person -> Function.prototype -> Object.prototype -> null
    }

    function question1() {
        var F = function () {}

        Object.prototype.a = function () {
            return 'a'
        }

        Function.prototype.b = function () {
            return 'b'
        }

        var f = new F()

        f.a() // a
        f.b() // f.b is not a function

        F.a() // a
        F.b() // b
    }

    function question2() {
        var A = function () {}
        A.prototype.n = 1
        var b = new A()
        A.prototype = {
            n: 2,
            m: 3
        }
        var c = new A()

        console.log(b.n) // 1
        console.log(b.m) // undefined

        console.log(c.n) // 2
        console.log(c.m) // 3
    }
    function question2_1() {
        var A = function () {}
        A.prototype.n = 1
        var b = new A()

        var c = b.n
        console.log(c) // 1
        A.prototype.n = 2
        console.log(b.n) // 2
    }

    function question3() {
        var foo = {},
            F = function () {}
        Object.prototype.a = 'a'
        Function.prototype.b = 'b'

        console.log(foo.a) // a
        console.log(foo.b) // undefined

        console.log(F.a) // a
        console.log(F.b) // b
    }

    function question4() {
        function A() {}
        function B(a) {
            this.a = a
        }
        function C(a) {
            if (a) {
                this.a = a
            }
        }
        A.prototype.a = 1
        B.prototype.a = 1
        C.prototype.a = 1

        console.log(new A().a) // 1
        console.log(new B().a) // undefined
        console.log(new C(2).a) // 2
    }

    function question5() {
        console.log((123)['toString'].length + 123)
    }

    question2_1()
</script>
