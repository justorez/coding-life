<body>
    <div class="box">
        <p>
            <code>
                dispay:none
                不占空间，子元素不继承，事件不触发，过渡动画无效
            </code>
        </p>
        <button onclick="toggle(this, 'display')">toggle</button>
    </div>
    <div class="box">
        <p>
            <code onclick="alert('visibility')">
                visibility:hidden 占空间，子元素继承，事件不触发，过渡动画无效，但会在延迟时间后才隐藏
            </code>
            <span> visibility:visible </span>
        </p>
        <button onclick="toggle(this, 'visibility')">toggle</button>
    </div>
    <div class="box">
        <p onclick="alert('opacity')">
            <code>opacity:0 占空间，子元素继承，事件触发，过渡动画有效</code>
            <span> opacity:1 </span>
        </p>
        <button onclick="toggle(this, 'opacity')">toggle</button>
    </div>
</body>

<script>
    function toggle(el, prop) {
        const map = {
            none: 'block',
            block: 'none',
            hidden: 'visible',
            visible: 'hidden',
            0: '1',
            1: '0'
        }
        const node = el.parentNode.firstElementChild
        const propVal = getComputedStyle(node)[prop]
        node.style[prop] = map[propVal]
    }
</script>

<style>
    .box {
        width: 500px;
        padding: 10px;
        margin-bottom: 20px;
        background-color: #efefef;
    }
    .box p {
        font-size: 14px;
        transition: all 0.5s;
    }
    code {
        display: block;
        font-size: 16px;
    }
    .box:nth-child(2) p span {
        visibility: visible;
    }
    .box:nth-child(3) p span {
        opacity: 1;
    }
</style>
